model SavingsGoal {
    id          String            @id @default(cuid())
    createdAt   DateTime          @default(now())
    updatedAt   DateTime          @updatedAt
    name        String
    target      Decimal
    current     Decimal           @default(0)
    deadline    DateTime?
    description String?
    isDefault   Boolean           @default(false) // To distinguish between system defaults and user goals
    type        GoalType          @default(CUSTOM)
    priority    Int               @default(0) // For ordering goals
    userId      String
    user        User              @relation(fields: [userId], references: [id], onDelete: Cascade)
    progress    SavingsProgress[]

    @@map(name: "savings_goals")
}

model SavingsProgress {
    id        String      @id @default(cuid())
    createdAt DateTime    @default(now())
    amount    Decimal
    date      DateTime
    goalId    String
    goal      SavingsGoal @relation(fields: [goalId], references: [id], onDelete: Cascade)

    @@map(name: "savings_progress")
}

enum GoalType {
    EMERGENCY_FUND
    RETIREMENT
    DOWN_PAYMENT
    CUSTOM
}

// Add to User model
model User {
    // ... existing fields
    savingsGoals SavingsGoal[]
}
